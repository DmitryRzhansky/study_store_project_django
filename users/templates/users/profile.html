{% extends "base.html" %}
{% load static %}
{% block content %}
<section class="profile-page">

    <!-- Профиль пользователя -->
    <div class="profile-card">
        <form class="profile-form" action="{% url "users:profile" %}" method="post" enctype="multipart/form-data">

            {% csrf_token %}

            <div class="profile-avatar">
                {% if user.image %}
                    <img src="{{ user.image.url }}" alt="Аватар">            
                {% else %}
                    <img src="{% static 'deps/images/baseavatar.jpg' %}" alt="Аватар">
                {% endif %}
                <input type="file" class="avatar-input" accept="image/*" id="id_image" name="image">
                {% if form.image.errors %}
                    <div class="error-message">{{ form.image.errors }}</div>
                {% endif %}  
            </div>

            <div class="input-group">
                <label for="id_first_name">Имя*</label>
                <input type="text" id="id_first_name" name="first_name" placeholder="Введите ваше имя" required
                       value="{{ form.first_name.value }}">
                {% if form.first_name.errors %}
                    <div class="error-message">{{ form.first_name.errors }}</div>
                {% endif %}                
            </div>

            <div class="input-group">
                <label for="id_last_name">Фамилия*</label>
                <input type="text" id="id_last_name" name="last_name" placeholder="Введите вашу фамилию" required
                       value="{{ form.last_name.value }}">
                {% if form.last_name.errors %}
                    <div class="error-message">{{ form.last_name.errors }}</div>
                {% endif %}
            </div>

            <div class="input-group">
                <label for="id_username">Имя пользователя*</label>
                <input type="text" id="id_username" name="username" placeholder="Введите имя пользователя" required
                       value="{{ form.username.value }}">
                {% if form.username.errors %}
                    <div class="error-message">{{ form.username.errors }}</div>
                {% endif %}
            </div>

            <div class="input-group">
                <label for="id_email">Email*</label>
                <input type="email" id="id_email" name="email" placeholder="youremail@example.com" required
                       value="{{ form.email.value }}">
                {% if form.email.errors %}
                    <div class="error-message">{{ form.email.errors }}</div>
                {% endif %}
            </div>

            <button type="submit" class="btn-save">Сохранить</button>
        </form>
    </div>

    <!-- Мои заказы -->
    <div class="orders-section">
        <h2>Мои заказы</h2>

        <div class="order-card">
            <div class="order-header">
                <span>Заказ №256</span>
                <span>09 сентября 2023 9:04</span>
                <span class="status in-process">В обработке</span>
            </div>
            <div class="order-body">
                <table>
                    <thead>
                        <tr>
                            <th>Товар</th>
                            <th>Количество</th>
                            <th>Цена</th>
                            <th>Итого</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Комплект сандалей и три кроссовки</td>
                            <td>1</td>
                            <td>255.00 $</td>
                            <td>255.00 $</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="order-card">
            <div class="order-header">
                <span>Заказ №248</span>
                <span>01 августа 2023 11:28</span>
                <span class="status delivered">Получен</span>
            </div>
            <div class="order-body">
                <table>
                    <thead>
                        <tr>
                            <th>Товар</th>
                            <th>Количество</th>
                            <th>Цена</th>
                            <th>Итого</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Кроссовки спортивные</td>
                            <td>2</td>
                            <td>30.00 $</td>
                            <td>60.00 $</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </div>

</section>
{% endblock content %}
